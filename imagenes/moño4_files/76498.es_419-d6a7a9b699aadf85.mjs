"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[76498],{240684:(e,t,n)=>{n.d(t,{TA:()=>P,ZP:()=>j});var i=n(667294),r=n(263366),l=n(487462),a=n(497326),o=n(875068),s=n(659864),d=n(108679),c=n.n(d);function u(e){console.warn("loadable: "+e)}var h=i.createContext(),p={initialChunks:{}},g="PENDING",m="REJECTED",f=function(e){return e};function y(e){var t=e.defaultResolveComponent,n=void 0===t?f:t,d=e.render,u=e.onLoad;function y(e,t){void 0===t&&(t={});var f,y="function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e,v={};function _(e){return t.cacheKey?t.cacheKey(e):y.resolve?y.resolve(e):"static"}function x(e,i,r){var l=t.resolveComponent?t.resolveComponent(e,i):n(e);if(t.resolveComponent&&!(0,s.isValidElementType)(l))throw Error("resolveComponent returned something that is not a React component!");return c()(r,l,{preload:!0}),l}var w=(f=function(e){function n(n){var i;return((i=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:_(n)},function(e,t){if(!e){var n=Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}(!n.__chunkExtractor||y.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor)?(!1===t.ssr||(y.requireAsync(n).catch(function(){return null}),i.loadSync(),n.__chunkExtractor.addChunk(y.chunkName(n))),(0,a.Z)(i)):(!1!==t.ssr&&(y.isReady&&y.isReady(n)||y.chunkName&&p.initialChunks[y.chunkName(n)])&&i.loadSync(),i)}(0,o.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=_(e);return(0,l.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var i=n.prototype;return i.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===m&&this.setCache(),this.state.loading&&this.loadAsync()},i.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},i.componentWillUnmount=function(){this.mounted=!1},i.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},i.getCacheKey=function(){return _(this.props)},i.getCache=function(){return v[this.getCacheKey()]},i.setCache=function(e){void 0===e&&(e=void 0),v[this.getCacheKey()]=e},i.triggerOnLoad=function(){var e=this;u&&setTimeout(function(){u(e.state.result,e.props)})},i.loadSync=function(){if(this.state.loading)try{var e=y.requireSync(this.props),t=x(e,this.props,b);this.state.result=t,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:y.resolve(this.props),chunkName:y.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},i.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then(function(t){var n=x(t,e.props,{Loadable:b});e.safeSetState({result:n,loading:!1},function(){return e.triggerOnLoad()})}).catch(function(t){return e.safeSetState({error:t,loading:!1})}),t},i.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,(0,r.Z)(t,["__chunkExtractor","forwardedRef"])),i=this.getCache();return i||((i=y.requireAsync(n)).status=g,this.setCache(i),i.then(function(){i.status="RESOLVED"},function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:y.resolve(e.props),chunkName:y.chunkName(e.props),error:t?t.message:t}),i.status=m})),i},i.render=function(){var e=this.props,n=e.forwardedRef,i=e.fallback,a=(e.__chunkExtractor,(0,r.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),o=this.state,s=o.error,c=o.loading,u=o.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===g)throw this.loadAsync();if(s)throw s;var h=i||t.fallback||null;return c?h:d({fallback:h,result:u,options:t,props:(0,l.Z)({},a,{ref:n})})},n}(i.Component),function(e){return i.createElement(h.Consumer,null,function(t){return i.createElement(f,Object.assign({__chunkExtractor:t},e))})}),b=i.forwardRef(function(e,t){return i.createElement(w,Object.assign({forwardedRef:t},e))});return b.preload=function(e){y.requireAsync(e)},b.load=function(e){return y.requireAsync(e)},b}return{loadable:y,lazy:function(e,t){return y(e,(0,l.Z)({},t,{suspense:!0}))}}}var v=y({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return i.createElement(t,n)}}),_=v.loadable,x=v.lazy,w=y({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),b=w.loadable,S=w.lazy,k="undefined"!=typeof window;function P(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace;if(!k)return u("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var i=null;if(k){var r=""+(void 0===n?"":n)+"__LOADABLE_REQUIRED_CHUNKS__",l=document.getElementById(r);if(l){i=JSON.parse(l.textContent);var a=document.getElementById(r+"_ext");if(a)JSON.parse(a.textContent).namedChunks.forEach(function(e){p.initialChunks[e]=!0});else throw Error("loadable-component: @loadable/server does not match @loadable/component")}}if(!i)return u("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var o=!1;return new Promise(function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function r(){i.every(function(e){return t.some(function(t){return t[0].indexOf(e)>-1})})&&!o&&(o=!0,e())}t.push=function(){n.apply(void 0,arguments),r()},r()}).then(e)}_.lib=b,x.lib=S;let j=_},600354:(e,t,n)=>{var i,r;n.r(t),n.d(t,{default:()=>a});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinTypeIdentifier_pin",selections:[{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[i={alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},i,{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"LabelInfo",kind:"LinkedField",name:"labelInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labels",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null}],storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="80b7e3dc9560d77c9c21fddd19c4e32f";let a=l},161545:(e,t,n)=>{var i,r;n.r(t),n.d(t,{default:()=>a});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SinglePinModule_pin",selections:[{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"736x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"236x")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"170x")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r=[{args:null,kind:"FragmentSpread",name:"TodayTabUserRep_user"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};l.hash="f94a93fde16d9c4802220fcaf54c6643";let a=l},678569:(e,t,n)=>{var i,r,l;n.r(t),n.d(t,{default:()=>o});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SingleVideoModule_pin",selections:[{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"736x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"236x")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"170x")'},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r=[{args:null,kind:"FragmentSpread",name:"TodayTabUserRep_user"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[l],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideoWithVisibility_pin"}],type:"Pin",abstractKey:null};a.hash="ea9670d2f0e65f9c980bb838fcf11fab";let o=a},800359:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TodayTabUserRep_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null};i.hash="5b75442679cdb59fa355f0019cdc75f6";let r=i},748722:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(339001);function r({altText:e,autoAltText:t,i18n:n}){let r=e?(0,i.nk)(n.bt("Esto contiene: {{ altText }}", "This contains: {{ altText }}", "web.altText", undefined, true),{altText:e}).join(""):"",l=t?(0,i.nk)(n.bt("Esto puede contener: {{ autoAltText }}", "This may contain: {{ autoAltText }}", "web.altText", undefined, true),{autoAltText:t}).join(""):"";return r||l||""}},806849:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(616550),r=n(214877),l=n(740183),a=n(454051),o=n(785893);function s({marginTop:e,trackingData:t}){let{logContextEvent:n}=(0,r.v)(),s=(0,i.k6)(),d=(0,i.TH)();return(0,o.jsx)(l.Z,{marginTop:e,onClick:()=>{d.key&&d.state?.referrer!=="redirect"?s.goBack():s.push((0,a.tG)()),t&&n({event_type:101,...t})}})}},175469:(e,t,n)=>{n.d(t,{Z:()=>R});var i,r,l,a=n(545007),o=n(883119),s=n(785893);let d=({isHovered:e,imageUrls:t,moduleWidth:n,subtitle:i,subtitleSize:r,title:l,titleSize:a})=>{if(!t||0===t.length)return null;let d=t.slice(0,3),c=.75*n;return(0,s.jsx)(o.xu,{borderStyle:"shadow",height:c,rounding:8,width:n,children:(0,s.jsx)(o.zd,{height:c,rounding:8,wash:e,width:n,children:(0,s.jsxs)(o.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",width:"100%",children:[(0,s.jsx)(o.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",children:d.map((e,t)=>(0,s.jsx)(o.xu,{flex:"grow",children:(0,s.jsx)(o.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:e})},t))}),(l||i)&&(0,s.jsxs)(o.xu,{direction:"column",display:"flex",flex:"none",justifyContent:"center",paddingX:5,paddingY:6,width:"100%",children:[i&&(0,s.jsx)(o.xu,{marginBottom:1,children:(0,s.jsx)(o.xv,{align:"center",size:r,weight:"bold",children:i})}),l&&(0,s.jsx)(o.X6,{align:"center",size:a,children:l})]})]})})})},c=({imageUrls:e,isHovered:t,moduleWidth:n,subtitle:i,subtitleSize:r,title:l,titleSize:a})=>{if(!e||0===e.length)return null;let d=.75*n;return(0,s.jsx)(o.xu,{borderStyle:"shadow",height:d,rounding:8,width:n,children:(0,s.jsx)(o.zd,{height:d,rounding:8,wash:t,width:n,children:(0,s.jsx)(o.Ee,{alt:l,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:e[0],children:(0,s.jsx)(o.xu,{alignItems:"end",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},display:"flex",height:"100%",paddingX:5,paddingY:6,width:"100%",children:(0,s.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",width:"100%",children:[i&&(0,s.jsx)(o.xu,{marginBottom:1,children:(0,s.jsx)(o.xv,{align:"center",color:"light",size:r,weight:"bold",children:i})}),(0,s.jsx)(o.X6,{align:"center",color:"light",size:a,children:l})]})})})})})};var u=n(214877),h=n(205841),p=n(149722),g=n(599874);let m=Math.floor(24),f=({auxData:e,componentType:t,featuredCreator:n,imageUrls:i,isHovered:r,moduleWidth:l,subtitle:a,title:d,viewParameter:c,viewType:f})=>{let{logContextEvent:y}=(0,u.v)(),v=(0,p.Z)();if(!n||!i||i.length<=0)return null;let{isAuth:_}=v,{full_name:x,image_medium_url:w,image_small_url:b,username:S}=n;if(!S)return null;let k=`/${encodeURIComponent(S)}/`,P=Math.min(i.length,3),j={component:t,object_id_str:e.today_article_id,view_type:f,view_parameter:c,aux_data:{...e}};return(0,s.jsx)(o.xu,{borderStyle:"shadow",color:"default",overflow:"hidden",rounding:8,width:l,children:(0,s.jsxs)(o.zd,{rounding:8,wash:r,width:l,children:[(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"45%"}},display:"flex",position:"relative",width:"100%",children:(0,s.jsx)(o.xu,{direction:"row",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:i.slice(0,P).map((e,t)=>(0,s.jsx)(o.xu,{width:`${100/P}%`,children:(0,s.jsx)(o.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:e},t)},t))})}),(0,s.jsxs)(o.xu,{flex:"none",paddingX:5,paddingY:6,position:"relative",width:"100%",children:[(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:`calc(50% - ${m}px)`,top:`-${m}px`}},height:48,position:"absolute",width:48,children:(0,s.jsx)(h.qE,{name:x??"",outline:!0,size:"fit",src:w||b||""})}),d&&(0,s.jsx)(o.xu,{marginTop:2,children:(0,s.jsx)(o.X6,{align:"center",size:"400",children:d})}),a&&(0,s.jsx)(o.xu,{marginTop:2,children:(0,s.jsx)(o.xv,{align:"center",size:"100",children:a})}),_&&(0,s.jsx)(o.xu,{display:"flex",justifyContent:"center",marginTop:3,children:(0,s.jsx)(g.Z,{id:n.id,isOwnProfile:v.isAuth&&v.id===n.id,isSecondaryButton:!0,onUserFollow:()=>{y({event_type:101,...j,element:62})},profileUrl:k,shouldStopEventPropagation:!0,size:"lg",userFollowed:!!n.explicitly_followed_by_me,viewParameter:c,viewType:f})})]})]})})};n(167912);var y=n(207012),v=n(572345);let _=void 0!==i?i:i=n(800359),x=({userKey:e})=>{let{fullName:t,imageMediumUrl:n,imageSmallUrl:i,verifiedIdentity:r}=(0,y.Z)(_,e),l=!!r?.verified;return(0,s.jsxs)(o.kC,{alignContent:"center",alignItems:"center",flex:"none",justifyContent:"center",width:"100%",children:[(0,s.jsx)(o.xu,{paddingX:1,children:(0,s.jsx)(h.qE,{name:t??"",size:"sm",src:(n||i)??void 0})}),(0,s.jsx)(o.xu,{minWidth:0,paddingX:1,children:(0,s.jsx)(o.xv,{lineClamp:1,size:"300",weight:"bold",children:t})}),l&&(0,s.jsx)(o.xu,{paddingX:1,children:(0,s.jsx)(v.Z,{iconOnly:!0,isVerifiedIdentity:l,size:"xs"})})]})};var w=n(666472),b=n(193163);let S=void 0!==r?r:r=n(161545),k=({auxData:e,componentType:t,pinKey:n,contentPinOfficialUser:i,imageUrls:r,isHovered:l,moduleWidth:a,showCreator:d,slotIndex:c,title:u,titleSize:h,viewParameter:p,viewType:g})=>{let m=(0,y.Z)(S,n);if(!m)return null;let f=m.imageSpec_736x??m.imageSpec_236x??m.imageSpec_170x;if(!f)return null;let v=(0,b.d9)(f.height,f.width),_=d?(i?{type:"deprecated",data:i}:null)||m.originPinner||m.pinner:null;return(0,s.jsx)(w.F,{componentType:t,contextLogData:e,impressionAuxFields:{clientTrackingParams:m.trackingParams,imageURL:f.url??""},impressionType:"Pin",loggingId:m.entityId,pinData:null,slotIndex:c,viewParameter:p,viewType:g,children:({impressionTrackerRef:e})=>(0,s.jsx)(o.xu,{ref:e,borderStyle:"shadow",rounding:8,width:a,children:(0,s.jsx)(o.zd,{rounding:8,wash:l,children:(0,s.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:"100%",children:[(0,s.jsx)(o.xu,{height:a*v,children:(0,s.jsx)(o.Ee,{alt:u,color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:r[0]})}),(u||!!_)&&(0,s.jsxs)(o.xu,{direction:"column",display:"flex",paddingX:5,paddingY:6,width:"100%",children:[u&&(0,s.jsx)(o.X6,{align:"center",size:h,children:u}),!!_&&(0,s.jsx)(o.xu,{alignSelf:"center",marginTop:3,width:"100%",children:(0,s.jsx)(x,{userKey:_})})]})]})})})})};var P=n(735922),j=n(19447);let C=({auxData:e,componentType:t,contentPinId:n,isHovered:i,moduleWidth:r,slotIndex:l,title:a,titleSize:d,viewParameter:c,viewType:u})=>{let p=(0,j.S6)()(n);if(!p)return null;let g=p.images?.["736x"]??p.images?.["236x"]??p.images?.["170x"];if(!g)return null;let m=(0,b.d9)(g.height,g.width),{pinner:f}=p,y=f?.image_medium_url||f?.image_small_url||"",v=f?.full_name||"",_=!!(y||v),x=.71*r;return(0,s.jsx)(w.F,{componentType:t,contextLogData:e,impressionAuxFields:{clientTrackingParams:p.tracking_params,imageURL:g.url??""},impressionType:"Pin",loggingId:p.id,pinData:null,slotIndex:l,viewParameter:c,viewType:u,children:({impressionTrackerRef:e})=>(0,s.jsx)(o.xu,{ref:e,borderStyle:"shadow",rounding:8,width:r,children:(0,s.jsx)(o.zd,{rounding:8,wash:i,children:(0,s.jsxs)(o.xu,{alignItems:"center",direction:"column",display:"flex",paddingY:6,width:"100%",children:[a&&(0,s.jsx)(o.xu,{paddingX:5,width:"100%",children:(0,s.jsx)(o.X6,{align:"center",size:d,children:a})}),(0,s.jsxs)(o.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:4,maxWidth:x,children:[(0,s.jsx)(o.zd,{height:r*m*.71,rounding:8,width:x,children:(0,s.jsx)(o.Ee,{alt:"",color:"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:g.url??"",children:(0,s.jsx)(o.xu,{marginStart:4,marginTop:4,children:(0,s.jsx)(P.Z,{pinKey:{type:"deprecated",data:p},size:"lg"})})})}),_&&(0,s.jsxs)(o.xu,{alignItems:"center",alignSelf:"start",display:"flex",marginTop:2,maxWidth:"100%",children:[(0,s.jsx)(o.xu,{flex:"none",height:44,marginEnd:2,width:44,children:(0,s.jsx)(h.qE,{name:"",size:"fit",src:y})}),(0,s.jsx)(o.xv,{lineClamp:1,children:v})]})]})]})})})})};var T=n(568956);let E=void 0!==l?l:l=n(678569),I=({auxData:e,componentType:t,pinKey:n,contentPinOfficialUser:i,isHovered:r,moduleWidth:l,showCreator:a,slotIndex:d,title:c,titleSize:u,viewParameter:h,viewType:p})=>{let g=(0,y.Z)(E,n);if(!g)return null;let m=g.imageSpec_736x||g.imageSpec_236x||g.imageSpec_170x,f=a?(i?{type:"deprecated",data:i}:null)||g.originPinner||g.pinner:null;return(0,s.jsx)(w.F,{componentType:t,contextLogData:e,impressionAuxFields:{clientTrackingParams:g.trackingParams,imageURL:m?.url??"",videoIdStr:g.videos?.entityId},impressionType:"Pin",loggingId:g.entityId,pinData:null,slotIndex:d,viewParameter:h,viewType:p,children:({impressionTrackerRef:e})=>(0,s.jsx)(o.xu,{ref:e,borderStyle:"shadow",rounding:8,width:l,children:(0,s.jsx)(o.zd,{rounding:8,wash:r,children:(0,s.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:"100%",children:[(0,s.jsx)(T.default,{isExperimentalPinRep:!0,pinKey:g}),(c||!!f)&&(0,s.jsxs)(o.xu,{direction:"column",display:"flex",paddingX:5,paddingY:6,width:"100%",children:[c&&(0,s.jsx)(o.X6,{align:"center",size:u,children:c}),!!f&&(0,s.jsx)(o.xu,{alignSelf:"center",flex:"none",marginTop:3,width:"100%",children:(0,s.jsx)(x,{userKey:f})})]})]})})})})};var F=n(498240),A=n(464569),z=n(477458);let D=new Set([3,2,6]),L=(e,t)=>e.filter(e=>"todayarticle"===e.type).findIndex(e=>e.id===t);function R({articleId:e,article:t,moduleWidth:n,slotIndex:i,subtitleSize:r,titleSize:l,viewParameter:h,viewType:p}){let{logContextEvent:g}=(0,u.v)(),{moduleWidth:m}=(0,A.ZP)(),y=(0,a.v9)(({todayarticles:n})=>t||n[e]),v=(0,a.v9)(({feeds:e})=>e["todayTabFeed:todayTab"]||[]),_=i||L(v,e);if(!y)return null;let{article_creator_user:x,content_pin:b,content_pin_official_user:S,display_type:P,image_urls:j,show_creator:T,subtitle:E,title:R}=y,O=b?.id||"",Z={grid_index:_.toString(),today_article_id:e},K=()=>{g({event_type:101,component:13525,view_type:p,view_parameter:h,aux_data:{...Z}}),D.has(P)&&g({event_type:8948,view_type:p,view_parameter:h,component:13525,object_id_str:O,aux_data:{...Z,closeup_navigation_type:"click"}})},N=(0,F.Z)(y),U=n||m,H=(t,n)=>{let i=(()=>{switch(P){case 0:return(0,s.jsx)(c,{imageUrls:j,isHovered:t,moduleWidth:U,subtitle:E,subtitleSize:r||"300",title:R,titleSize:l||"500"});case 1:return(0,s.jsx)(d,{imageUrls:j,isHovered:t,moduleWidth:U,subtitle:E,subtitleSize:r||"300",title:R,titleSize:l||"400"});case 8:return(0,s.jsx)(f,{auxData:Z,componentType:13525,featuredCreator:x,imageUrls:j,isHovered:t,moduleWidth:U,slotIndex:n,subtitle:E,title:R,viewParameter:h,viewType:p});case 3:return(0,s.jsx)(k,{auxData:Z,componentType:13525,contentPinOfficialUser:S,imageUrls:j,isHovered:t,moduleWidth:U,pinKey:null!=b?{type:"deprecated",data:b}:null,showCreator:T,slotIndex:n,title:R,titleSize:l||"400",viewParameter:h,viewType:p});case 6:return(0,s.jsx)(C,{auxData:Z,componentType:13525,contentPinId:O,isHovered:t,moduleWidth:U,slotIndex:n,title:R,titleSize:l||"400",viewParameter:h,viewType:p});case 2:return(0,s.jsx)(I,{auxData:Z,componentType:13525,contentPinOfficialUser:S,isHovered:t,moduleWidth:U,pinKey:null!=b?{type:"deprecated",data:b}:null,showCreator:T,slotIndex:n,title:R,titleSize:l||"400",viewParameter:h,viewType:p});default:return null}})();return i?(0,s.jsx)(w.F,{componentType:13525,contextLogData:Z,impressionType:"TodayArticle",loggingId:e,slotIndex:n,viewParameter:h,viewType:p,children:({impressionTrackerRef:e})=>(0,s.jsx)(o.Tg,{ref:e,href:N,onTap:K,children:i})}):null};return(0,s.jsx)(z.q,{children:({active:e,focused:t,hovered:n,onBlur:i,onFocus:r,onMouseEnter:l,onMouseLeave:a})=>(0,s.jsx)(o.xu,{onBlur:i,onFocus:r,onMouseEnter:l,onMouseLeave:a,children:H(!!(e||t||n),_)})})}},634315:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),r=n(785893);let l=({children:e})=>(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:1.5}},children:(0,r.jsx)(i.xv,{size:"300",children:e})})},251448:(e,t,n)=>{n.d(t,{CB:()=>p,y9:()=>h});var i=n(667294),r=n(342513),l=n(883119),a=n(372085),o=n(930837),s=n(140017),d=n(785893);let c=({onConfirm:e})=>{let t=(0,s.ZP)(),[n,r]=(0,i.useState)(!1),c=()=>{r(!0),(0,a.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,d.jsx)(o.ZP,{accessibilityModalLabel:t.bt("Verifica tu correo electrónico", "Verify your email", "Accessible label for email verification being required", undefined, true),footer:(0,d.jsxs)(l.kC,{gap:{row:2,column:0},justifyContent:"end",children:[n?(0,d.jsx)(l.zx,{color:"gray",disabled:n,fullWidth:!0,onClick:c,size:"lg",text:t.bt("Correo enviado", "Email sent", "Button text for verification email being sent", undefined, true)}):(0,d.jsx)(l.zx,{color:"gray",disabled:n,fullWidth:!0,onClick:c,size:"lg",text:t.bt("Reenviar mensaje", "Resend email", "Button text for resending email verification email", undefined, true)}),(0,d.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:e,size:"lg",text:t.bt("Entendido", "Got it", "Button text for acknowledging email verificaiton is required", undefined, true)})]}),heading:t.bt("Verifica tu correo electrónico", "Verify your email", "Accessible label for email verification being required", undefined, true),onDismiss:e,role:"alertdialog",children:(0,d.jsx)(l.xu,{padding:8,children:(0,d.jsx)(l.xv,{align:"center",size:"300",children:t.bt("Verifica tu dirección de correo electrónico para proteger tu cuenta. Busca un correo electrónico nuestro en el buzón de entrada asociado con esta cuenta para seguir usando Pinterest.", "Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.", "Inform users that they need to verify their email to keep their account secure and continue using Pinterest", undefined, true)})})})},{Provider:u,useHook:h}=(0,r.Z)("EmailVerificationReminderModal");function p({children:e}){let[t,n]=(0,i.useState)(!1),r=(0,i.useMemo)(()=>({showEmailVerificationReminderModal:()=>{n(!0)}}),[]);return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(u,{value:r,children:e}),t&&(0,d.jsx)(c,{onConfirm:()=>{n(!1)}})]})}},105737:(e,t,n)=>{function i(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1)if(!l(e[i],t[i],n+1))return!1;return!0}function r(e,t,n){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(!(i in t)||!l(e[i],t[i],n+1))return!1;return!0}function l(e,t,n){if(n>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let l=Object.prototype.toString.call(e);if(l!==Object.prototype.toString.call(t))return!1;switch(l){case"[object Array]":return i(e,t,n);case"[object Set]":return i(Array.from(e).sort(),Array.from(t).sort(),n);case"[object Object]":case"[object Arguments]":return r(e,t,n);case"[object Map]":return r(Object.fromEntries(e),Object.fromEntries(t),n);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function a(e,t){return l(e,t,0)}n.d(t,{ZP:()=>a,qP:()=>i})},262032:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),r=n(883119);let l=(0,i.createContext)();var a=n(785893);function o(e){(0,i.useContext)(l);let{alt:t,color:n,children:o,crossOrigin:s,decoding:d,elementTiming:c,fetchPriority:u,fit:h,loading:p,naturalHeight:g,naturalWidth:m,onError:f,onLoad:y,role:v,sizes:_,src:x,srcSet:w,_fixCompletedOnLoad:b}=e;return(0,a.jsx)(r.Ee,{_fixCompletedOnLoad:b,alt:t,color:n,crossOrigin:s,decoding:d,elementTiming:c,fetchPriority:u,fit:h,loading:p,naturalHeight:g,naturalWidth:m,onError:f,onLoad:y,role:v,sizes:_,src:x,srcSet:w,children:o})}},388769:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(72461),r=n(5859),l=n(785893);let a=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:a,shortformMaximumFractionDigits:o,formatStyle:s,uplimit:d,value:c})=>{let u=(0,i.Z)();return(0,l.jsx)(r.LC,{children:i=>u(i.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:a,shortform_maximum_fraction_digits:o,style:s,uplimit:d})})}},165706:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>h,FixedFooter:()=>m,FixedHeader:()=>g});var i=n(667294),r=n(883119),l=n(876594),a=n(696534),o=n(30378),s=n(71328);function d(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),d(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),d(this,"lastScrollPos",0),d(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),d(this,"handleScroll",(0,s.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state,i=window.scrollY,r=i-this.lastScrollPos,l="none",{scrollHeight:a,clientHeight:o}=document.documentElement||{};Number.isNaN(a)||Number.isNaN(o)||(l=r<0?i<=Math.abs((window.scrollMinY||0)+Math.max(r,20))?"start":"none":i>=(window.scrollMaxY||a-o)-Math.max(r,20)?"end":"none");let s=t?.isModal?0:55;e?r>20&&n&&i>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(r<-20&&!n||i<=s)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===l&&!n||i<=s?(this.updateHiddenState(!0),t?.onScroll(!0)):(i>s||"end"===l)&&n&&(this.updateHiddenState(!1),t?.onScroll(!1)):(r<-20||"start"===l)&&n||i<=s?(this.updateHiddenState(!1),t?.onScroll(!1)):(r>20||"end"===l)&&!n&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=i},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t?.forceShow&&n,updateHiddenState:this.updateHiddenState})}}var u=n(785893);let h=64;function p({children:e,footerConfig:t,headerConfig:n,height:s,hideOnScroll:d,hideOnScrollState:{isHidden:c,updateHiddenState:p},noPadding:g,paddingY:m=3,type:f,zIndex:y}){let v,_;let{headerLimitedOverflow:x,ignoreObstructions:w,zIndexForGestaltBug:b}=n||{},{appUpsellFooterConfig:S,footerInLego:k,navFooterConfig:P}=t||{},j=!!S,C="header"===f?"top":"bottom",T=(0,a.vs)(),E=(0,i.useRef)(null),I=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!w){let e=E.current;I.current=x&&e&&Array.isArray(e.children)?e.children[0]:e,I.current instanceof HTMLElement&&o.Z.addObstruction(C,I.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!w&&I.current instanceof HTMLElement&&o.Z.removeObstruction(C,I.current)}},[w,x,C,T]);let F="top"===C?"relative":"fixed",A=(s??h)+(n?.overrideTop||0),z=d||P?{transition:k?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...c?{transform:`translateY(${"top"===C?-A:A}px)`,opacity:k?0:1}:Object.freeze({})}:{},D="relative"!==F||n?.noGutter?0:2,L=D?-D:0;T&&("header"===f?v=-1:_=-1);let R=n?.isTransparentBackground&&l.o7L||n?.isTranslucent&&(T?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)")||l.k95;return(0,u.jsx)(r.xu,{ref:E,bottom:"footer"===f,dangerouslySetInlineStyle:{__style:{top:v,bottomStyle:_,...!y||b?{zIndex:b||1}:Object.freeze({}),...x?{background:"transparent",overflow:"hidden",paddingBottom:100,marginBottom:-100,pointerEvents:"none"}:Object.freeze({}),...n?.hasBorder?{borderBottom:"1px solid #efefef"}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...z}},"data-test-id":f,display:j?"flex":void 0,height:s&&!k?s:void 0,left:!0,marginEnd:k?"auto":L,marginStart:k?"auto":L,onTransitionEnd:()=>{(d||P)&&I.current&&(c?o.Z.removeObstruction(C,I.current):o.Z.addObstruction(C,I.current))},position:F,right:!0,top:"header"===f,width:k||"fixed"!==F?void 0:"100%",zIndex:b?void 0:y,children:(0,u.jsx)(r.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:R,height:k?j?void 0:s??h:"100%",boxShadow:k?"0px 0px 8px rgba(0, 0, 0, 0.1)":void 0,marginBottom:k&&!P?.docked?16:void 0,...x?{pointerEvents:"auto"}:Object.freeze({}),...n?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:k||t?.alignCenter?"flex":void 0,marginEnd:k?"auto":void 0,marginStart:k?"auto":void 0,paddingX:("footer"!==f||g?0:4)+D,paddingY:g?0:m,position:"relative",rounding:k&&!P?.docked?"pill":void 0,width:P?P.footerWidth:j?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:p}):e})})}function g({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:i,isTransparentBackground:l,noGutter:a,overrideTop:o,useRoundedCorners:s,zIndexForGestaltBug:d,...h}){let{noPadding:g,paddingY:m=3,zIndex:f}=h;return(0,u.jsx)(r.Le,{height:t?44+8*(g?0:m):void 0,top:o||0,zIndex:f||void 0,children:(0,u.jsx)(c,{hideOnScroll:h.hideOnScroll,children:r=>(0,u.jsx)(p,{...h,headerConfig:{isTranslucent:i,isTransparentBackground:l,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:a,overrideTop:o,zIndexForGestaltBug:d,useRoundedCorners:s},hideOnScrollState:r,type:"header"})})})}function m({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:r,...l}){return(0,u.jsx)(c,{appUpsellFooterConfig:t,hideOnScroll:l.hideOnScroll,navFooterConfig:r?.scrollConfig,children:a=>(0,u.jsx)(p,{...l,footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:r},hideOnScrollState:a,type:"footer"})})}},735922:(e,t,n)=>{n.d(t,{Z:()=>f}),n(167912);var i,r=n(883119),l=n(419075),a=n(205841),o=n(207012),s=n(140017),d=n(558273),c=n(340523),u=n(785893);let h={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px"},p={sm:{...h,padding:"0 6px"},lg:{...h,padding:"4px 8px"},xl:{...h,height:"32px",padding:"4px"}};function g({backgroundColor:e,identifier:t,size:n="sm"}){let i=p[n];return(0,u.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{...i,backgroundColor:e?"pine"===e?"#0FA573":"#fff":"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",display:"inlineBlock",children:t})}let m=void 0!==i?i:i=n(600354);function f({allowProductCarousel:e,allowShoppingPriceIndicator:t,pinKey:n,pinOwner:i,shoppingLabelColor:h,showUserIndicator:p,size:f="sm",surface:y}){let v=(0,s.ZP)(),_=(0,o.Z)(m,n),x=!!_?.carouselData?.entityId,w=(_?.embed||_?.attribution?.embed)?.type==="gif",b=_?.richSummary?.typeName==="product",S=!!_?.storyPinDataId,k=!!_?.videos?.videoList,P=!!_?.promoter&&!_.isDownstreamPromotion,{checkExperiment:j}=(0,c.F)();if(p&&i){let{image_small_url:e,full_name:t=""}=i;return g({identifier:(0,u.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[e&&(0,u.jsx)(a.qE,{name:t,size:"xs",src:e}),(0,u.jsx)(r.xu,{alignItems:"center",display:"flex",marginStart:1,children:(0,u.jsx)(r.JO,{accessibilityLabel:v.bt("Pin", "Pin", "pin.pinTypeIdentifier.taggedProduct", undefined, true),color:"default",icon:"tag",inline:!0,size:14})})]}),size:"xl",backgroundColor:"white"})}if(w)return g({identifier:"GIF",size:f});if(S&&_?.shouldOpenInStream!==!1){let e=_?.storyPinData?.staticPageCount??0,t=_?.storyPinData?.totalVideoDuration??0;if(P&&j("ads_iad_dweb").anyEnabled||["ShoppingGridSmallCarousel","VisualInspirationShoppingPin"].includes(y||"")||0===t&&e<=1)return null;{let n=t+e*d.oN;return g({identifier:(0,l.Z)(n),size:f})}}if(k){let{videos:e}=_??{},t=e?.duration??0;return g({identifier:(0,l.Z)(t),size:f})}if(b){let e=_?.richSummary&&_.richSummary.products&&_.richSummary.products[0]&&_.richSummary.products[0].offerSummary;if(t){let t=e&&(e.price||e.maxPrice);return t?g({identifier:t,size:f}):null}if(!h)return null;{let e=(_?.richSummary?.products?.[0]||{}).labelInfo?.labels?.[0];return e?g({identifier:e,backgroundColor:h,size:f}):null}}if(e){let e=_?.productPinData&&_.productPinData.items&&_.productPinData.items[0],t=(_?.imageSpec_orig?1:0)+(e?.additionalImagesLength??0),n=_?.carouselData?.index??0;return g({identifier:`${n+1}/${t}`,size:f})}if(x){let e=_?.carouselData?.carouselSlots??[],t=_?.carouselData?.index??0;return g({identifier:`${t+1}/${e.length}`,size:f})}return null}},340523:(e,t,n)=>{n.d(t,{F:()=>r,a:()=>i});let{Provider:i,useHook:r}=(0,n(342513).Z)("ExperimentContext")},14583:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(340523),l=n(908734),a=n(785893);function o({children:e,fallback:t}){return(0,a.jsx)(i.Suspense,{fallback:t||null,children:e})}function s({children:e,fallback:t}){let{checkExperiment:n}=(0,r.F)();return n("web_throw_error_on_client_only_suspense").anyEnabled?(0,a.jsx)(i.Suspense,{fallback:t,children:(0,a.jsx)(l.Z,{children:e})}):(0,a.jsx)(o,{fallback:t,children:e})}},498240:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(193163);function r(e){let{article_creator_user:t,display_type:n,feed_source:r,header_pin_id:l,id:a,is_product_pin_feed:o,title:s,video_pin:d}=e;switch(n){case 0:case 1:return s?(0,i.T7)(r,o??!1,s,a):"";case 8:return t?.username?`/${encodeURIComponent(t.username)}/`:"";case 3:case 6:return l?`/pin/${l}/`:"";case 2:return d?.id?`/pin/${d.id}/`:"";default:return""}}},37156:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(5859),r=n(726536),l=n(149722);function a(){let e=(0,i.B)(),t=(0,l.Z)(),n=t.isAuth?t.country:e.country;if(void 0===e||void 0===e.locale)return!1;let a=e.locale.substring(0,2);return r.Z[a]?.includes(n)}},740183:(e,t,n)=>{n.d(t,{Z:()=>f,m:()=>p});var i=n(667294),r=n(883119),l=n(140017),a=n(406893),o=n(5859),s=n(923368),d=n(604625),c=n(71980),u=n(589564),h=n(785893);let p=4,g=`
@keyframes showShadow {
  0% {
    box-shadow: none;
  }

  100% {
    background-color: rgba(255, 255, 255, 0.97);
    box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);
  }
}

@keyframes hideShadow {
  0% {
    background-color: rgba(255, 255, 255, 0.97);
    box-shadow: 0 1px 20px 0 rgba(0, 0, 0, 0.1);
  }

  100% {
    box-shadow: none;
  }
}
`,m=({deepLinkBackGoesToBoard:e,isNewOrRes:t,onClick:n,showLabel:a=!1,trafficSource:s,showShadow:d,size:c="lg"})=>{let u=(0,l.ZP)(),{isRTL:p}=(0,o.B)(),g=()=>(0,h.jsx)(r.iP,{onTap:n,rounding:"pill",children:(0,h.jsx)(r.xu,{left:!0,maxWidth:90,padding:2,children:(0,h.jsx)(r.X6,{align:"center",size:"400",children:u.bt("Para ti", "For you", "closeup.backButton.label", undefined, true)})})},"buttonBack"),m=a&&("feed_home"===s||"deep_linking"===s&&!e)&&t;return(0,h.jsxs)(i.Fragment,{children:[m&&p?(0,h.jsx)(g,{}):null,(0,h.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{animation:d?"showShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards":"hideShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards"}},rounding:"circle",children:(0,h.jsx)(r.hU,{accessibilityLabel:u.bt("Volver", "Back", "backButton.accessibilityLabel", undefined, true),bgColor:"white",dataTestId:"back-icon-button",icon:"directional-arrow-left",iconColor:"darkGray",onClick:n,size:c})},"back-button-icon"),m&&!p?(0,h.jsx)(g,{}):null]})};function f({deepLinkBackGoesToBoard:e,handleScroll:t,isNewOrRes:n,marginTop:l,onClick:f,showLabel:y=!1,trafficSource:v,showShadow:_}){let{closeupWithinMasonryEnabled:x}=(0,s.x4)(),{isRTL:w}=(0,o.B)(),b=(0,u.Z)();(0,i.useEffect)(()=>t?(window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)):()=>{},[]);let S=l||0===l?4*l:4*p;return x&&(S=26),(0,h.jsxs)(c.Z,{position:"fixed",style:{zIndex:d.Cq,width:"60px",maxWidth:"265px"},children:[(0,h.jsx)(a.Z,{unsafeCSS:g}),(0,h.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:S,...w?{right:0}:{left:b}}},"data-test-id":"back-button",display:"flex",paddingX:4,position:"fixed",children:(0,h.jsx)(m,{deepLinkBackGoesToBoard:e,isNewOrRes:n,marginTop:l,onClick:f,showLabel:y,showShadow:_,trafficSource:v})})]})}},554786:(e,t,n)=>{n.d(t,{HG:()=>u,Kf:()=>a,Mq:()=>r,Wb:()=>c,ZP:()=>h,dA:()=>o,ds:()=>s,ml:()=>d});var i=n(5859);function r(e){let{isMobile:t,isTablet:n}=e.userAgent;return n?"tablet":t?"phone":"desktop"}let l=()=>r((0,i.B)()),a=e=>"phone"===e,o=e=>"tablet"===e,s=e=>"desktop"===e,d=()=>a(l()),c=()=>o(l()),u=()=>s(l()),h=l},631602:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),r=n(973935),l=n(785893);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o=new Map,s=null,d=e=>{e.forEach(e=>{let t=o.get(e.target);t&&t(e)})},c=e=>{s.unobserve(e),o.delete(e)},u=(e,t="-64px 0px 0px 0px",n)=>{let i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};s=s||new window.IntersectionObserver(d,i),o.set(e,n),s.observe(e)},h=e=>o.has(e),p=e=>{class t extends i.Component{constructor(...e){super(...e),a(this,"seen",!1),a(this,"enter",e=>{let t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)}),a(this,"leave",()=>{let e=this._node;e&&h(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)}),a(this,"observe",e=>{try{this._node=r.findDOMNode(this)}catch(e){return}if(!this._node)return;let t=this._node;u(t,e,e=>{if(!o.has(t))return;let n=this.props.trackFullVisible?e.intersectionRatio>=1:e.intersectionRatio>=.5,i=this.props.trackFullVisible?0===e.intersectionRatio:!n;!this.seen&&n?this.enter(e):this.seen&&i&&this.leave()})})}componentDidMount(){let{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){let e=this._node;e&&(this.leave(),c(e))}render(){return(0,l.jsx)(e,{...this.props})}}return a(t,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),t}},626849:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t){let{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,r={...n,...i};return r[e]&&r[e].currentTime}},249803:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e,t){let{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,r={...n,...i};return!!r[e]&&!r[e].paused}},467139:(e,t,n)=>{n.d(t,{UP:()=>o,Wv:()=>r,ZF:()=>i,zI:()=>l,zl:()=>a});let i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],r=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],l=[...r,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingTool"],a=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],o=["BaseBoardPinGrid"]},599874:(e,t,n)=>{n.d(t,{Z:()=>C});var i=n(667294),r=n(545007),l=n(883119),a=n(224796),o=n(214877),s=n(847160),d=n(515278),c=n(251448),u=n(976731),h=n(140017),p=n(339001),g=n(96452),m=n(731714),f=n(13848),y=n(494125),v=n(388769),_=n(785893);let x=({followText:e,followerCount:t,userFollowed:n})=>{let i=(0,h.ZP)();return(0,p.nk)(i.bt("{{ followCount }} {{ followText }}", "{{ followCount }} {{ followText }}", " - ", undefined, true),{followCount:(0,_.jsx)(l.xu,{"data-test-id":"followCount",opacity:n?void 0:.8,paddingX:1,children:(0,_.jsx)(l.xv,{color:n?"subtle":"inverse",children:(0,_.jsx)(v.Z,{shortform:!0,shortformMaximumFractionDigits:0,value:t})})},"followCount"),followText:(0,_.jsx)(l.xu,{"data-test-id":"followText",paddingX:1,children:(0,_.jsx)(l.xv,{color:n?"default":"inverse",weight:"bold",children:e})},"followText")})};var w=n(324186),b=n(70982),S=n(386008),k=n(155087);function P(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j extends i.PureComponent{constructor(...e){super(...e),P(this,"handleButtonClick",({event:e})=>{let{requireAuth:t,i18n:n,userFollowed:i}=this.props;if(t){e.stopPropagation(),t({loginModalHeader:(0,s.N4)({i18n:n,toFollow:!i})});return}let{shouldStopEventPropagation:r,loggingData:l}=this.props;r&&(e.preventDefault(),e.stopPropagation()),this.props.logContextEvent({event_type:101,component:13672,element:11951,object_id_str:this.props.id,view_type:this.props.viewType,view_parameter:this.props.viewParameter,clientTrackingParams:this.props.clientTrackingParams,...l||Object.freeze({})}),this.toggleFollowUnfollow()}),P(this,"handleClick",({event:e})=>{let{requireAuth:t}=this.props;if((t||this.props.shouldStopEventPropagation)&&e.stopPropagation(),t){t();return}this.toggleFollowUnfollow()}),P(this,"toggleFollowUnfollow",()=>{let{id:e,mostRecentPinId:t,loggingData:n,userFollowed:i,viewType:r,viewParameter:l,clientTrackingParams:a}=this.props;i?(this.props.logContextEvent({event_type:46,object_id_str:e,view_type:r,view_parameter:l,aux_data:{pin_id:t},clientTrackingParams:a,...n||Object.freeze({})}),this.unfollow()):(this.props.logContextEvent({event_type:45,object_id_str:e,view_type:r,view_parameter:l,aux_data:{pin_id:t},clientTrackingParams:a,...n||Object.freeze({})}),this.follow())}),P(this,"follow",()=>{let{follow:e,id:t,onUserFollow:n,mostRecentPinId:i,setMostRecentPinId:r,inviteCode:l,handleFollowSuccessFromInvite:a,loggingData:o,viewType:s,viewParameter:d}=this.props;e(t,i,()=>{l?(a?.(),this.props.logContextEvent({event_type:14858,object_id_str:t,view_type:s,view_parameter:d,...o||Object.freeze({})})):this.showConfirmation()},this.showError),n&&n(!0),r(null)}),P(this,"showToast",e=>{let{id:t,imageUrl:n,profileUrl:i,toastManagerContext:r,suppressToasts:l}=this.props;l||r.showOneToast(({hideToast:r})=>(0,_.jsx)(k.Z,{handleHide:r,href:i,imageUrl:n,text:e,userId:t}))}),P(this,"showConfirmation",()=>{let e=(0,_.jsx)(l.xv,{children:this.props.i18n.bt("¡Estás siguiendo a este usuario! Sus Pines aparecerán en tu feed de inicio.", "Following! Their created Pins will show up in your home feed!", "userFollowButton.informationalToastText2", undefined, true)});this.showToast(e)}),P(this,"showError",e=>{let{fullName:t,userFollowed:n,showEmailVerificationReminderModal:i,loggingData:r,inviteCode:a,id:o,viewParameter:s,viewType:d}=this.props,c=n?this.props.i18n.bt("Error al dejar de seguir a {{ usernameComponent }}.", "Error unfollowing {{ usernameComponent }}.", "UserFollowButton.error.unfollowing", undefined, true):this.props.i18n.bt("Error al seguir a {{ usernameComponent }}.", "Error following {{ usernameComponent }}.", "UserFollowButton.error.following", undefined, true);if((0,u.Z)(e,"api_error_code")===g.H9){i();return}let h=(0,_.jsx)(l.xv,{children:(0,p.nk)(c,{usernameComponent:(0,_.jsx)(l.xv,{inline:!0,weight:"bold",children:t})})});this.showToast(h),!n&&a&&this.props.logContextEvent({event_type:14859,object_id_str:o,view_type:d,view_parameter:s,...r||Object.freeze({})})}),P(this,"unfollow",()=>{let{id:e,onUserFollow:t,unfollow:n,mostRecentPinId:i,setMostRecentPinId:r}=this.props;n(e,i,()=>{},this.showError),t&&t(!1),r(null)})}renderButton(){let{button:e,followerCount:t,inline:n=!1,isOwnProfile:i,invertButtonColor:r,isSecondaryButton:a,size:o,showFollowerCount:s,userFollowed:d}=this.props,c=d?this.props.i18n.bt("Siguiendo", "Following", "User follow button", undefined, true):this.props.i18n.bt("Seguir", "Follow", "User follow button", undefined, true);if(e)return e({followText:c,onClick:this.handleButtonClick,userFollowed:d});if(i)return(0,_.jsx)(l.zx,{disabled:!0,fullWidth:!0,text:this.props.i18n.bt("Este eres tú", "This is you", "Button label to note that this is your Profile", undefined, true)});if(!s)return(0,_.jsx)(l.xu,{"data-test-id":`user-${d?"unfollow":"follow"}-button`,display:"inlineBlock",children:(0,_.jsx)(l.zx,{accessibilityLabel:d?this.props.i18n.bt("Dejar de seguir", "Unfollow", "userUnfollowButton.button.accessibilityLabel", undefined, true):this.props.i18n.bt("Seguir", "Follow", "userFollowButton.button.accessibilityLabel", undefined, true),color:a||d?"gray":"red",fullWidth:n,onClick:this.handleButtonClick,selected:r?!d:!!d,size:o??void 0,text:c})});{let e="number"==typeof t?(0,_.jsx)(x,{followerCount:t,followText:c,userFollowed:d}):c;return(0,_.jsx)(l.iP,{onTap:this.handleClick,children:(0,_.jsx)(l.xu,{color:d?"secondary":"primary",paddingX:3,paddingY:3,rounding:2,children:(0,_.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:e})})})}}render(){let{showPulsar:e,userFollowed:t}=this.props;return(0,_.jsxs)(l.xu,{display:"flex",position:"relative",children:[this.renderButton(),e&&(0,_.jsx)(l.iP,{onTap:this.handleClick,children:(0,_.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,_.jsx)(l.o3,{paused:t||!1})})})]})}}function C(e){let{logContextEvent:t}=(0,o.v)(),n=(0,h.ZP)(),{id:i,setMostRecentPinId:l}=(0,w.f)(),s=(0,d.Z)(),u=(0,r.I0)(),{showEmailVerificationReminderModal:p}=(0,c.y9)(),g=(0,S.mN)()(e.id),v=g?.follower_count,x=g?g.explicitly_followed_by_me:e.userFollowed;return(0,y.Z)(()=>{let{id:t}=e,n=m.Z.getItem(a.AG)||"";n&&n===t&&(m.Z.removeItem(a.AG),u((0,b.ZN)(n,e.clientTrackingParams)))}),(0,_.jsx)(j,{...e,follow:(t,n,i,r)=>{u((0,b.yA)(t,n,e.clientTrackingParams,e.inviteCode)).then(i).catch(e=>{r(e)})},followerCount:v,i18n:n,logContextEvent:t,mostRecentPinId:i,requireAuth:s,setMostRecentPinId:l,showEmailVerificationReminderModal:p,toastManagerContext:(0,f.F9)(),unfollow:(t,n,i,r)=>{u((0,b.KF)(t,n,e.clientTrackingParams)).then(i,r)},userFollowed:x})}},83255:(e,t,n)=>{n.d(t,{E:()=>i,Z:()=>l});let{Provider:i,useHook:r}=(0,n(342513).Z)("VerticalNav",{width:0}),l=r},589564:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(83255);function r(){let{width:e}=(0,i.Z)();return e}},324186:(e,t,n)=>{n.d(t,{C:()=>s,f:()=>o});var i=n(667294),r=n(342513),l=n(785893);let{Provider:a,useHook:o}=(0,r.Z)("MostRecentPin");function s({children:e}){let[t,n]=(0,i.useState)(),[r,o]=(0,i.useState)(),s=(0,i.useCallback)(e=>{o([e].concat((r?r.slice(0,10):[]).filter(t=>t!==e)))},[r]),d=(0,i.useMemo)(()=>({id:t,plpImageSignatures:r,setMostRecentPinId:n,setMostRecentPinImage:s}),[t,r,s]);return(0,l.jsx)(a,{value:d,children:e})}},604625:(e,t,n)=>{n.d(t,{Cq:()=>c,Dk:()=>h,Fk:()=>r,fS:()=>d,km:()=>u,lI:()=>a,lJ:()=>l,mS:()=>s,qW:()=>o});var i=n(883119);let r=new i.Ry(1),l=3,a=new i.Ry(l),o=2,s=new i.Ry(o),d=3,c=4,u=new i.Ry(5),h=new i.Ry(100)},125768:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(545007),r=n(616550),l=n(883119),a=n(224796),o=n(587703),s=n(525364),d=n(696534),c=n(140017),u=n(741983),h=n(731714),p=n(217058),g=n(623409),m=n(554786),f=n(785893);function y({alignIconLeft:e,bgColor:t,color:n,disableRedirect:y=!1,fallbackUrl:v,icon:_="arrow-back",onTouch:x,padding:w,placement:b,shouldUseFallbackUrl:S,size:k="lg",viewParameter:P,viewType:j,isVisualSearch:C}){let T=(0,c.ZP)(),E=(0,r.k6)(),I=(0,r.TH)(),F=(0,m.HG)(),A=(0,i.v9)(e=>e.session.isAuthenticated),z=(0,o.Z)(),D=(0,g.Z)(),L=(0,d.vs)(),{viewType:R,viewParameter:O}=(0,s.SU)(),[Z,K]=j?[j,P]:[R,O],N=()=>I.search&&I.search.includes("?nativeShouldDismiss=true"),U=()=>{let e=h.Z.getItem(a.pm);I.key||"/ideas"!==v?(0,p.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)(`web_back_button_click.${String(b)}.is_auth_${String(A)}`),D({action:"click",item:"back-button"}),Z&&z({view_type:Z,view_parameter:K,element:34,event_type:102}),x&&x(),y||((!I.key||I.state&&"redirect"===I.state.referrer||S)&&v?E.push(v):I.pathname.includes("/password/reset/")&&N()?E.push("/login/?dismissWebview=true"):E.goBack())},H=L?d.t4:"white",B=(0,u.am)(I)||C||"white"===n;return(0,f.jsx)(l.xu,{"data-test-id":"back-button",children:e?(0,f.jsx)(l.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===_?-1:-2,width:48,children:(0,f.jsx)(l.hU,{accessibilityLabel:T.bt("Volver", "Back", "navigation button", undefined, true),bgColor:t,icon:_,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:U,padding:"auto"!==w?w:2,size:k})}):(0,f.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:F||B?"":H}},rounding:"circle",children:(0,f.jsx)(l.hU,{accessibilityLabel:T.bt("Volver", "Back", "navigation button", undefined, true),bgColor:F?t:"transparent",icon:_,iconColor:!n&&(!t||["white","lightGray","transparent"].includes(t))?"gray":n,onClick:U,padding:"auto"!==w?w:2,size:k})})})}},718561:(e,t,n)=>{n.d(t,{ZP:()=>I});var i=n(667294),r=n(240684),l=n(883119),a=n(214877),o=n(920434),s=n(541841),d=n(59545),c=n(340523),u=n(149722),h=n(537513),p=n(369708),g=n(181056),m=n(784992),f=n(118923),y=n(832853),v=n(785893);function _(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let x=(0,r.ZP)({resolved:{},chunkName:()=>"app-www-video-VideoWrapper",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(93041),n.e(84452),n.e(95813)]).then(n.bind(n,131348)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){return n(this.resolve(e))},resolve:()=>131348}),w=(0,y.Z)(()=>Promise.all([n.e(93041),n.e(84452),n.e(95813)]).then(n.bind(n,131348)),void 0,"app-www-video-VideoWrapper"),b=e=>(0,f.b)()?(0,v.jsx)(w,{...e}):(0,v.jsx)(x,{...e}),S=[0,.25,.5,.75,.95,.97],k=[0,.5,.8,.99,1],P={rootMargin:"-64px 0px 0px 0px",threshold:[...g.iM]},j=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function C(){return new Date().getTime()}function T(e){return!!e.volume&&e.volume>0}class E extends i.Component{constructor(e){super(e),_(this,"videoWrapperRef",(0,i.createRef)()),_(this,"handleWindowResize",()=>{if(!this.fullscreen){let e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}}),_(this,"handlePlayheadDown",({event:e})=>{let{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})}),_(this,"handlePlayheadUp",({event:e})=>{let{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})}),_(this,"handleLoop",()=>{this.videoTime=0}),_(this,"handlePlaying",e=>{this.logVideoStart(),this.props.onPlaying&&this.props.onPlaying(e)}),_(this,"handleTimeChange",e=>{let{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;let i=1e3*e.time,r=function(e,t,n,i){if(e>t||n<=0)return null;for(let r of i){let i=r*n;if(e<=i&&t>i)return r}return null}(this.videoTime,i,this.currentInterval.videoDuration,S);if("number"==typeof r&&this.props.playing&&!t&&n){let e=C();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*r),quartilePercentValue:r})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)}),_(this,"handleDurationChange",e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)}),_(this,"handleReady",e=>{let{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)}),_(this,"handleEnded",e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)}),_(this,"handleVisibilityChange",e=>{if(0===e.length)return;let t=function(e,t){for(let n=0;n<t.length;n+=1){let i=t[n],r=t[n+1];if(null==r||i<=e&&e<r)return i}return null}(Number.parseFloat(e.slice(-1)[0].intersectionRatio.toFixed(2)),k);"number"==typeof t&&(this.visible=t>=.5),null==t||t===this.currentInterval.viewability||this.fullscreen||(0===t?this.startNewInterval({viewability:t,playbackState:j.PAUSED}):this.startNewInterval({viewability:t}))}),_(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{if(t){let{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})}),_(this,"handleClose",()=>{this.startNewInterval()}),_(this,"handleContextMenu",e=>{e.preventDefault()}),this.state={ready:!1,seeking:!1,started:!1};let t=C();this.handleWindowResize=(0,o.Z)(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:T(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){let n={};T(e)&&!T(this.props)?n.isAudible=!1:!T(e)&&T(this.props)&&(n.isAudible=!0);let i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?j.PLAYING:j.PAUSED:j.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){let n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){let{closeupStoryPinViewability:n,contextLogData:i,logContextEvent:r,playing:l,surface:a}=this.props,{seeking:o}=this.state,{height:s,width:d,windowHeight:c,windowWidth:u,viewability:h,...p}=t;if(null!=s&&null!=d&&null!=c&&null!=u&&null!=h){let t={...p,gridAutoplay:6904===e&&l&&!o&&("AuthHomefeed"===a||"SearchItem"===a||"RelatedPinGrid"===a||"PdpRelatedPinGrid"===a),height:s,width:d,windowHeight:c,windowWidth:u,viewability:n||h};r({event_type:e,...(0,m.Z)({...i,view:this.fullscreen?108:i.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){let e=C();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}logVideoStart(){if(this.state.started)return;let{contextLogData:e,setVideoPlayed:t,shouldLogVideoStart:n}=this.props;if(n){let e=C();this.logVideoEvent(3621,{...this.currentInterval,startTime:e,endTime:e,videoEndTime:this.videoTime})}t(e.objectId),this.setState({started:!0})}startNewInterval(e){let t=C();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}renderIntersectionObserverChildren(){let{aspectRatio:e,backgroundColor:t,captions:n,contextLogData:i,controls:r,cropHeight:a,fallback:o,hlsConfig:s,isAutoPlay:d,loop:c,objectFit:u,onLoadedChange:h,onControlsPause:p,onControlsPlay:g,onSeek:m,onVolumeChange:f,playbackRate:y,playing:_,playsInline:x,poster:w,preload:S,src:k,videoStartTime:P,volume:j}=this.props,{seeking:C}=this.state;return(0,v.jsx)(l.xu,{ref:this.videoWrapperRef,dangerouslySetInlineStyle:{__style:a?{display:"flex",alignItems:"center",height:`${a}px`}:{}},onContextMenu:this.handleContextMenu,children:(0,v.jsx)(b,{aspectRatio:a?236/a:e,backgroundColor:t,captions:n,contextLogData:i,controls:r,fallback:o,hlsConfig:s,isAutoPlay:d,loop:c,objectFit:u,onControlsPause:p,onControlsPlay:g,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:h,onLoop:this.handleLoop,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onPlaying:this.handlePlaying,onReady:this.handleReady,onSeek:m,onTimeChange:this.handleTimeChange,onVolumeChange:f,playbackRate:y,playing:!C&&_,playsInline:x,poster:w,preload:S,src:k,videoStartTime:P,visible:this.visible,volume:j})})}render(){let{rootMargin:e,surface:t,intersectionObserverExpEnabled:n}=this.props;return void 0!==e&&(P.rootMargin=t?(0,h.eL)(t):e),n?(0,v.jsx)(d.Z,{onVisibilityChange:this.handleVisibilityChange,options:P,children:e=>(0,v.jsx)(l.xu,{ref:e,children:this.renderIntersectionObserverChildren()})}):(0,v.jsx)(s.Z,{onVisibilityChange:this.handleVisibilityChange,options:P,children:this.renderIntersectionObserverChildren()})}}function I(e){let{logContextEvent:t}=(0,a.v)(),{checkExperiment:n}=(0,c.F)(),{setVideoPlayed:i}=(0,p.rG)(),{isAuth:r}=(0,u.Z)(),l=n("web_video_start_log").anyEnabled,o=n(r?"web_intersection_observer_migration_auth":"web_intersection_observer_migration_unauth").anyEnabled;return(0,v.jsx)(E,{...e,intersectionObserverExpEnabled:o,logContextEvent:t,setVideoPlayed:i,shouldLogVideoStart:l})}_(E,"defaultProps",l.nk.defaultProps)},181056:(e,t,n)=>{n.d(t,{Ul:()=>l,VS:()=>i,hy:()=>a,iM:()=>r,j4:()=>o});let i=2,r=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1],l={backgroundImage:"linear-gradient(to top, rgba(0, 0, 0, .4), rgba(0, 0, 0, 0))",pointerEvents:"none",bottom:0},a=128,o=e=>e&&document.querySelector(`video[poster="${e}"]`)||null},784992:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){let{eventData:{videoEvent:{gridAutoplay:t,videoDuration:n,startTime:i,endTime:r,videoStartTime:l,videoEndTime:a,isAudible:o,height:s,width:d,playbackState:c,quartile:u,quartilePercentValue:h,windowHeight:p,windowWidth:g,viewability:m}},component:f,objectId:y,view:v,viewParameter:_,...x}=e;return{component:f,object_id_str:y,view_type:v,view_parameter:_,aux_data:{...x},event_data:{videoEventData:{gridAutoplay:t,videoDuration:n,time:i,endTime:r,videoTime:l,endVideoTime:a,isAudible:o,height:s,width:d,playbackState:c,quartile:u,quartilePercentValue:h,windowHeight:p,windowWidth:g,viewability:m}}}}},454051:(e,t,n)=>{function i(e,t){return t?`${e}?${new URLSearchParams(t).toString()}`:e}function r(e){return i("/admin/",e)}function l(e){return i("/admin/oauth/logout/",e)}function a(e){return i("/today/",e)}n.d(t,{HF:()=>r,Kn:()=>l,tG:()=>a})},706196:(e,t,n)=>{function i(e){let[t,n]=e.split(/\/(.*)+/);return{filepath:n,site:t}}function r(e,t){return t?`${e||""}/${t}`:`/${e||""}`}n.d(t,{ac:()=>i,ke:()=>r})},908734:(e,t,n)=>{n.d(t,{Z:()=>l,d:()=>r});let i="HIDDEN_ON_SERVER_ERROR",r=e=>e instanceof Object&&"message"in e&&e.message===i;function l({children:e}){if("undefined"==typeof window)throw Error(i);return e}},118923:(e,t,n)=>{n.d(t,{P:()=>a,b:()=>o});var i=n(340523),r=n(5859),l=n(528252);function a({checkExperiment:e,isAuthenticated:t,isEarlyHydrationEnabled:n}){return n||!!e&&e(t?"web_auth_lazy_component":"web_unauth_lazy_component").anyEnabled}function o(){let{checkExperiment:e}=(0,i.F)(),{isAuthenticated:t}=(0,r.B)();return a({checkExperiment:e,isAuthenticated:t,isEarlyHydrationEnabled:(0,l.z5)()})}},832853:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(14583);let{Provider:l,useMaybeHook:a}=(0,n(342513).Z)("LazyComponent");var o=n(785893);function s(e,t,n){let l,s,d;let c=t?.ssr??!0?i.Suspense:r.Z,u=n=>{a(),t?.dynamicRequestKey,s||(s=(0,i.lazy)(()=>e(n)));let r=(0,i.useRef)(l??s).current;return(0,o.jsx)(c,{fallback:n.fallback||t?.fallback,children:(0,o.jsx)(r,{...n})})};function h(t){return d||(d=(async()=>l=(await e(t)).default)()),d}return u.preload=e=>{h(e)},u.load=e=>h(e),u}},528252:(e,t,n)=>{n.d(t,{DB:()=>d,SS:()=>o,WP:()=>l,z5:()=>s});var i=n(667294),r=n(706196);let l=(0,i.createContext)({anyEnabled:!1,group:""}),a={anyEnabled:!1,group:""};function o({experimentsClient:e,isAuthenticated:t,handlerId:n}){let{site:i}=(0,r.ac)(n??"");return"www"!==i?a:e?.checkExperiment(t?"web_early_hydration_auth":"web_early_hydration_unauth")??a}function s(){return(0,i.useContext)(l).anyEnabled}function d(){return(0,i.useContext)(l)}},497326:(e,t,n)=>{n.d(t,{Z:()=>i});function i(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/76498.es_419-d6a7a9b699aadf85.mjs.map