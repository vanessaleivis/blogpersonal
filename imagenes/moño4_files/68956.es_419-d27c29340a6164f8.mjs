"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[68956],{51287:(e,i,l)=>{l.r(i),l.d(i,{default:()=>t});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DeprecatedCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};a.hash="4be444081491499e2b6e9d6768314918";let t=a},980069:(e,i,l)=>{var a,t,n;l.r(i),l.d(i,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[a={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinImage_pin"},{args:null,kind:"FragmentSpread",name:"DeprecatedCarousel_pin"}],type:"Pin",abstractKey:null};r.hash="228ed96182ff017f2d866065cbecf7b9";let s=r},292199:(e,i,l)=>{l.r(i),l.d(i,{default:()=>t});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideoWithVisibility_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideoWithVisibility_pin2"},{args:null,kind:"FragmentSpread",name:"useAutoplayOrgVideoOnHover_pin"}],type:"Pin",abstractKey:null};a.hash="2acc30117a5990f7f2c1367aad790447";let t=a},351483:(e,i,l)=>{l.r(i),l.d(i,{default:()=>t});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideoWithVisibility_pin2",selections:[{args:null,kind:"FragmentSpread",name:"PinVideo_pin"}],type:"Pin",abstractKey:null};a.hash="c4876bc86b017c1390fdec3edc77f6d4";let t=a},244346:(e,i,l)=>{var a,t;l.r(i),l.d(i,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideo_pin",selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[a,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinVideo_pin2"}],type:"Pin",abstractKey:null};n.hash="7de1543a7e9ef08dab86ce070f3dca6a";let r=n},508268:(e,i,l)=>{l.r(i),l.d(i,{default:()=>t});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinVideo_pin2",selections:[{args:null,kind:"FragmentSpread",name:"PinImage_pin"}],type:"Pin",abstractKey:null};a.hash="147f5f417b6700208c89761b9857c06e";let t=a},798325:(e,i,l)=>{var a,t,n;l.r(i),l.d(i,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinImage_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[a={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},t],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="120885d2d60c7d708b14fb0611c0c658";let s=r},139704:(e,i,l)=>{var a,t;l.r(i),l.d(i,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAutoplayOrgVideoOnHover_pin",selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[a,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:t,storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="2942f85ec1d9274bd2a1e72a4b5cf008";let r=n},119351:(e,i,l)=>{l.d(i,{Z:()=>w}),l(167912);var a,t,n=l(693967),r=l.n(n),s=l(883119),o=l(748722),d=l(598356),u=l(262032),c=l(333739),g=l(807023),p=l(140017),m=l(339001),h=l(223785),y=l(207012),x=l(340523),_=l(968508),S=l(785893);let v=void 0!==a?a:a=l(798325);function f({alt:e,onError:i=()=>{},onLoad:l=()=>{},pinKey:a,_fixCompletedOnLoad:t}){let{checkExperiment:n}=(0,x.F)(),{anyEnabled:r}=n("ads_iad_dweb"),o=(0,y.Z)(v,a),{dominantColor:d,isDownstreamPromotion:u,promoter:c}=o,g=!!c&&!u,p=function(e){let i=e.storyPinData?.pages||[];return 3===((i[0]?.blocks||[])[0]||{}).blockType}(o),{height:m,width:h,url:f}=function({pin:e,useVideoThumbnail:i}){let l=!(e.imageSpec_474x?.width&&e.imageSpec_474x.height&&e.imageSpec_474x.width>e.imageSpec_474x.height)&&e.imageSpec_474x||e.imageSpec_736x;return i?function(e){let i=e.storyPinData?.pages||[],l=i[0]?.blocks||[],a=l[0]?.video?.videoList?.vHLSV3MOBILE;return a?.thumbnail?{height:a?.height||0,width:a?.width||0,url:a.thumbnail||""}:null}(e):l}({pin:o,useVideoThumbnail:p&&(g&&r||!g)})??{};return(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{zIndex:_.Z.storyPinImage}},"data-test-id":"story-pin-image-box",width:"100%",children:(0,S.jsx)(s.Ee,{_fixCompletedOnLoad:t,alt:e,color:d||"transparent",naturalHeight:m??1,naturalWidth:h??1,onError:i,onLoad:l,src:f||""})})}var k=l(253482);let T=["ShoppingGridSmall","ShoppingGridSmallCarousel","ShoppingDynamicHeightGrid","VisualInspirationFocusPin","VisualInspirationPin"],b=void 0!==t?t:t=l(980069),L=e=>({altText:e.alt_text??null,autoAltText:e.auto_alt_text??null,carouselData:e.carousel_data?{__typename:"PinCarouselData"}:null,description:e.description??null,dominantColor:e.dominant_color??null,gridTitle:e.grid_title??null,imageSpec_236x:e.images?.["236x"]?{height:e.images["236x"].height??null,url:e.images["236x"].url??null,width:e.images["236x"].width??null}:null,imageSpec_474x:e.images?.["474x"]?{height:e.images["474x"].height??null,url:e.images["474x"].url??null,width:e.images["474x"].width??null}:null,imageSpec_736x:e.images?.["736x"]?{height:e.images["736x"].height??null,url:e.images["736x"].url??null,width:e.images["736x"].width??null}:null,imageSpec_orig:e.images?.orig?{height:e.images.orig.height??null,url:e.images.orig.url??null,width:e.images.orig.width??null}:null,storyPinDataId:e.story_pin_data_id??null,videos:e.videos?{videoList:e.videos.video_list?{vHLSV4:e.videos.video_list.V_HLSV4?{height:e.videos.video_list.V_HLSV4.height||null,thumbnail:e.videos.video_list.V_HLSV4.thumbnail||null,width:e.videos.video_list.V_HLSV4.width||null}:null}:null}:null,title:e.title??null,isThirdPartyAd:e.is_third_party_ad??null,...c.tx}),P=({children:e,cropStoryPinImage:i,cropWidth:l,cropHeight:a})=>i?(0,S.jsx)(s.kC,{alignItems:"center",height:l?a:void 0,justifyContent:"start",width:l||void 0,children:e}):(0,S.jsx)(s.xu,{children:e}),w=({cropHeight:e,cropWidth:i,fallbackColor:l,highResOnly:a,imageFit:t,lowResOnly:n,mediumResOnly:c,onError:y,onLoad:x,pinKey:_,saved:v=!1,surface:w,ssrImpressionFixEnabled:F})=>{let I=(0,p.ZP)(),V=(0,d.Xx)(),{data:E,childDataKey__DEPRECATED:K}=(0,g.Q)(b,_,{useLegacyAdapter:L}),{altText:A,autoAltText:C,carouselData:j,description:D="",dominantColor:O,gridTitle:H,isThirdPartyAd:Z,title:B,videos:z}=E,R=(0,m.nk)(I.bt("Esto contiene una imagen de: {{ pinTitle }}", "This contains an image of: {{ pinTitle }}", "web.altText", undefined, true),{pinTitle:B||H}).join(""),M=(0,o.Z)({altText:A,autoAltText:C,i18n:I})||!!D?.trim().length&&D||R;if(j)return(0,S.jsx)(k.Z,{_fixCompletedOnLoad:F,highResOnly:a,isThirdPartyAd:Z,lowResOnly:n,onError:y,onLoad:x,pinKey:K});let W="",U,$=0,G=0;if(E.imageSpec_736x||E.imageSpec_orig||E.imageSpec_474x||E.imageSpec_236x){let e=E.imageSpec_236x;if(a)e=E.imageSpec_736x||E.imageSpec_orig||E.imageSpec_474x||E.imageSpec_236x;else if(c)e=E.imageSpec_474x||E.imageSpec_orig||E.imageSpec_236x;else{let{thumbnail:i,height:l,width:a}=z?.videoList?.vHLSV4||{};e=i?{url:i,height:l??1,width:a??1}:e}$=e?.height,G=e?.width,W=e?.url,U=n||c||a?e?.url?`${e.url} 1x`:"":[E.imageSpec_236x?.url&&`${E.imageSpec_236x.url} 1x`,E.imageSpec_474x?.url&&`${E.imageSpec_474x.url} 2x`,E.imageSpec_736x?.url&&`${E.imageSpec_736x.url} 3x`,E.imageSpec_orig?.url&&`${E.imageSpec_orig.url} 4x`].filter(Boolean).join(", ")}V?.image&&($=V.image.height,G=V.image.width,W=V.image.url);let N=["ShoppingGridSmall","ShoppingGridSmallCarousel"].includes(w)?void 0:h.Ml;return(0,S.jsx)(s.kC,{alignItems:"center",justifyContent:"start",minHeight:N,children:(0,S.jsx)(s.xu,{flex:"grow",children:(0,S.jsx)("div",{className:r()({savedGradient:v}),children:E.storyPinDataId?(0,S.jsx)(P,{cropHeight:e,cropStoryPinImage:!!i&&T.includes(w),cropWidth:i,children:(0,S.jsx)(f,{_fixCompletedOnLoad:F,alt:M,onError:y,onLoad:x,pinKey:K})}):(0,S.jsx)(s.xu,{"data-test-id":"non-story-pin-image",height:i?e:void 0,width:i||void 0,children:(0,S.jsx)(u.Z,{_fixCompletedOnLoad:F,alt:M,color:"dominant"===l?O??void 0:l,crossOrigin:Z?"anonymous":void 0,fit:t,naturalHeight:$??1,naturalWidth:G??1,onError:y,onLoad:x,src:W??"",srcSet:U})})})})})}},568956:(e,i,l)=>{l.r(i),l.d(i,{default:()=>j});var a,t,n,r,s,o=l(667294);l(167912);var d=l(883119),u=l(119351),c=l(207012),g=l(807023),p=l(558273),m=l(363074),h=l(239821),y=l(31327),x=l(306781),_=l(233186),S=l(140017),v=l(785893);let f={__style:{backgroundColor:"#000"}};function k({backgroundImage:e,naturalHeight:i,naturalWidth:l,onRestartVideo:a,pinId:t}){let n=(0,S.ZP)();return(0,v.jsxs)(d.Ee,{alt:n.bt("imagen del Pin", "pin image", "image of a pin", undefined, true),naturalHeight:i,naturalWidth:l,src:e,children:[(0,v.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:f,left:!0,opacity:.8,position:"absolute",right:!0,top:!0}),(0,v.jsxs)(d.xu,{"data-test-id":`video-end-card-${t}`,direction:"column",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",children:[(0,v.jsx)(d.iP,{rounding:2,children:(0,v.jsxs)(d.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,v.jsx)(d.JO,{accessibilityLabel:n.bt("Visitar sitio", "Visit site", "Button when pressed goes to pin's website", undefined, true),color:"light",dangerouslySetSvgPath:{__path:x.Z},size:25}),(0,v.jsx)(d.xu,{margin:1}),(0,v.jsx)(d.xv,{color:"light",lineClamp:1,weight:"bold",children:n.bt("Visitar sitio", "Visit site", "Button when pressed goes to pin's website", undefined, true)})]})}),(0,v.jsx)(d.xu,{margin:3}),(0,v.jsx)(d.iP,{onTap:a,rounding:2,children:(0,v.jsxs)(d.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,v.jsx)(d.JO,{accessibilityLabel:n.bt("Ver de nuevo", "Watch again", "Button when pressed restarts the video", undefined, true),color:"light",dangerouslySetSvgPath:{__path:_.Z},size:25}),(0,v.jsx)(d.xu,{margin:1}),(0,v.jsx)(d.xv,{color:"light",lineClamp:1,weight:"bold",children:n.bt("Ver de nuevo", "Watch again", "Button when pressed restarts the video", undefined, true)})]})})]})]})}function T({aspectRatio:e,children:i}){return(0,v.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:e}},children:i})}var b=l(718561);let L=new Set(["ConversationView","TodayTabFeed"]),P=void 0!==a?a:a=l(244346);var w=l(631602),F=l(626849),I=l(249803);let V=void 0!==n?n:n=l(139704);function E(e,i,l){var a;return(i="symbol"==typeof(a=function(e,i){if("object"!=typeof e||null===e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var a=l.call(e,i||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?a:String(a))in e?Object.defineProperty(e,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[i]=l,e}let K=(0,w.Z)(function({isAutoplay:e,cropHeight:i,currentTime:a,lowResOnly:n,highResOnly:r,onLoad:s,onError:x,saved:_,onTimeChange:S,isExperimentalPinRep:f,pinKey:w,surface:F,playing:I,rootMargin:V,viewType:E,viewParameter:K,onVisibilityChanged:A,trackFullVisible:C,inVisibilityChangedHookExperiment:j,imageHeightModifier:D,cropWidth:O,video:H}){let Z;let[B,z]=(0,o.useState)(!1),[R,M]=(0,o.useState)(!I),W=(0,c.Z)(P,w),{childDataKey__DEPRECATED:U}=(0,g.Q)(void 0!==t?t:t=l(508268),W,{useLegacyAdapter:e=>({})}),{isDownstreamPromotion:$,promoter:G}=W,N=(0,p.jL)(!!$,!!G),Y=N&&!W.isEligibleForWebCloseup,Q=f&&N&&W.isEligibleForWebCloseup&&!L.has(F),{setCurrentVideo:J}=(0,h.I)(),X=(0,m.Z)({onVisibilityChanged:A,trackFullVisible:C,rootMargin:V});e&&I&&R&&M(!1);let{url:q}=W.imageSpec_236x??{},{entityId:ee,isPromoted:ei}=W,el=(0,o.useCallback)(({event:e})=>{e.preventDefault(),e.stopPropagation(),J({pinId:ee,isPromoted:!!ei,currentTime:0}),z(!1)},[ei,ee,J]),ea=(0,o.useCallback)(()=>{ei&&z(Q)},[Q,ei]),et=H??W.videos?.videoList?.vHLSV4;if(!et)return null;let{height:en,thumbnail:er,width:es,url:eo}=et,ed=H?.entityId??W.videos?.entityId??"",eu=(es??1)/(en??1),ec=F&&(0,y.Z)(F)&&"UserProfilePinGrid"!==F;if(ec&&(eu=1,Z="transparent",D&&(eu-=D-1)),B&&N)return(0,v.jsx)(d.xu,{ref:j?X:null,children:(0,v.jsx)(k,{backgroundImage:q??"",naturalHeight:en??1,naturalWidth:es??1,onRestartVideo:el,pinId:ee})});let eg={highResOnly:r,lowResOnly:n,onError:x,onLoad:s,pinKey:U,saved:_};ec&&(eg={...eg,cropHeight:i,cropWidth:O,imageFit:"contain"});let ep=(0,v.jsx)(d.xu,{ref:j?X:null,"data-test-id":"pinrep-video--placeholder","data-test-image-signature":q,children:(0,v.jsx)(T,{aspectRatio:eu,children:(0,v.jsx)(u.Z,{...eg})})});return R?ep:(0,v.jsx)(d.xu,{ref:j?X:null,children:(0,v.jsx)(b.ZP,{aspectRatio:eu,backgroundColor:Z,captions:"",contextLogData:{viewParameter:K,component:0,objectId:ee,video_id:ed,view:E},cropHeight:i,fallback:ep,hlsConfig:{capLevelToPlayerSize:!0,startPosition:a||-1},isAutoPlay:!!e,loop:Y||!f||!N,onEnded:ea,onPlay:()=>{},onPlayError:()=>{},onTimeChange:S,playing:I,poster:q||er||void 0,rootMargin:V,src:[{type:"video/m3u8",src:eo}]??[],surface:F,videoStartTime:a,volume:0})})}),A=void 0!==r?r:r=l(292199);class C extends o.Component{constructor(...e){super(...e),E(this,"calculateCurrentVideoTime",()=>{let{currentTimeFromPinRep:e,pin:i,videosAutoplaying:l}=this.props,{entityId:a}=i,t=(0,F.Z)(a,l);return this.currentVideoCurrentTime||t||e}),E(this,"handleVisibilityChanged",e=>{let{currentTimeFromPinRep:i,pin:l,setCurrentVideo:a,pauseAutoplay:t,videosAutoplaying:n}=this.props,{entityId:r,isPromoted:s}=l,o=(0,I.Z)(r,n),d=function(e,i){let{organicVideosAutoplaying:l,promotedVideosAutoplaying:a}=i,t={...l,...a};for(let i in t){let{paused:l}=t[i];if(i!==e&&!l)return!1}return!0}(r,n);e?s?a({pinId:r,isPromoted:s,currentTime:this.calculateCurrentVideoTime()}):d&&a({pinId:r,isPromoted:!!s,currentTime:this.calculateCurrentVideoTime()}):!e&&o&&t({pinId:r,isPromoted:!!s,currentTime:i||this.currentVideoCurrentTime})}),E(this,"handleVideoTimeChange",e=>{let{pin:i,onTimeChange:l,videosAutoplaying:a}=this.props,{entityId:t}=i;(0,I.Z)(t,a)&&(this.currentVideoCurrentTime=e.time),l&&l(e)})}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){let{appInFocus:i}=e,{appInFocus:l,currentTimeFromPinRep:a,pauseAutoplay:t,pin:n,setCurrentVideo:r,videosAutoplaying:s}=this.props,{entityId:o,isPromoted:d}=n,u=(0,I.Z)(o,s);l!==i&&!l&&u?(this.pausedDueToBrowserOutOfFocus=!0,t({pinId:o,isPromoted:!!d,currentTime:a||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&l&&(this.pausedDueToBrowserOutOfFocus=!1,r({pinId:o,isPromoted:!!d,currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){let{currentTimeFromPinRep:e,pauseAutoplay:i,pin:l,videosAutoplaying:a}=this.props,{entityId:t,isPromoted:n}=l;(0,I.Z)(t,a)&&i({pinId:t,isPromoted:!!n,currentTime:e||this.currentVideoCurrentTime})}render(){let{childDataKey__DEPRECATED:e,cropHeight:i,isAutoplay:l,pin:a,surface:t,videosAutoplaying:n,viewParameter:r,viewType:s,highResOnly:o,lowResOnly:d,onError:u,onLoad:c,saved:g,isExperimentalPinRep:p,rootMargin:m,cropWidth:h,imageHeightModifier:y,video:x}=this.props,{entityId:_}=a,S=(0,F.Z)(_,n),f=(0,I.Z)(_,n),k={cropHeight:i,rootMargin:m,currentTime:S,isAutoplay:l,viewParameter:r,viewType:s,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pinKey:e,surface:t,playing:f&&l,trackFullVisible:!1,highResOnly:o,lowResOnly:d,onError:u,onLoad:c,saved:g,isExperimentalPinRep:p,cropWidth:h,imageHeightModifier:y,...x?{video:x}:{}};return(0,v.jsx)(K,{...k})}}function j({pinKey:e,isHovering:i=!1,...a}){let{appUI:{appInFocus:t,isAutoplay:n,videosAutoplaying:r},pauseAutoplay:d,setCurrentVideo:u}=(0,h.I)(),p=(0,c.Z)(A,e),{childDataKey__DEPRECATED:m}=(0,g.Q)(void 0!==s?s:s=l(351483),p,{useLegacyAdapter:e=>({})}),y=(0,o.useRef)(i);return!function({pinKey:e,isHovering:i,hoverState:l}){let a=(0,c.Z)(V,e),{setCurrentVideo:t,pauseAutoplay:n,appUI:{videosAutoplaying:r}}=(0,h.I)(),s=a?.videos?.videoList?.v720P||a?.videos?.videoList?.vHLSV4||a?.videos?.videoList?.vHLSV3MOBILE;(0,o.useEffect)(()=>{if(a){if(l.current!==i){let{entityId:e,isPromoted:l,storyPinData:o}=a,d=(0,F.Z)(e,r);if(s||o?.totalVideoDuration){if(i){let i=function(e,i){let{currentlyPlayingOrganicVideoId:l,organicVideosAutoplaying:a}=i;return l&&l!==e?l:Object.keys(a).find(e=>!1===a[e].paused)}(e,r);i&&n({currentTime:d,pinId:i,isPromoted:!1}),t({currentTime:d,pinId:e,isPromoted:!!l})}else l||n({currentTime:d,pinId:e,isPromoted:!!l})}}l.current=i}},[i,l,n,a,t,s,r])}({pinKey:p,isHovering:i,hoverState:y}),(0,v.jsx)(C,{...a,appInFocus:t,childDataKey__DEPRECATED:m,isAutoplay:n,pauseAutoplay:d,pin:p,setCurrentVideo:u,videosAutoplaying:r})}},598356:(e,i,l)=>{l.d(i,{Xx:()=>n});var a=l(667294);l(785893),(0,a.createContext)(void 0),l(214877);let t=(0,a.createContext)(void 0),n=()=>(0,a.useContext)(t)},223785:(e,i,l)=>{l.d(i,{Dv:()=>n,Ml:()=>r,Oc:()=>a,mv:()=>t});let a=16,t=4,n={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},r=120},306781:(e,i,l)=>{l.d(i,{Z:()=>a});let a="M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},233186:(e,i,l)=>{l.d(i,{Z:()=>a});let a="M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},705895:(e,i,l)=>{function a(e,i,l){var a;return(i="symbol"==typeof(a=function(e,i){if("object"!=typeof e||null===e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var a=l.call(e,i||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?a:String(a))in e?Object.defineProperty(e,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[i]=l,e}l.d(i,{Z:()=>r});let t=new class{constructor(){a(this,"onResumeListeners",[]),a(this,"onPauseListeners",[]),a(this,"inExp",!1),a(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(i=>i!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(i=>i!==e)}getAppState(){return this.windowInFocus?0:void 0}},n=e=>{if(e.isHidden){let{reason:i}=e;t.windowInFocus=!1,t.onPauseListeners.forEach(e=>e(i))}else t.windowInFocus=!0,t.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>n({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>n({isHidden:!1})),window.addEventListener("blur",()=>n({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>n({isHidden:!1})),window.addEventListener("pagehide",()=>n({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>n(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>n(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let r=t},239821:(e,i,l)=>{l.d(i,{g:()=>g,I:()=>c});var a=l(667294),t=l(342513),n=l(705895),r=l(259866);let s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},o=(e=s,i)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===i.type&&e.showTypeaheadOverlay!==i.payload)return{...e,showTypeaheadOverlay:i.payload};if("SET_CURRENT_VIDEO"===i.type){let{payload:l}=i,{pinId:a,isPromoted:t,currentTime:n}=l,{videosAutoplaying:s}=e,{currentlyPlayingOrganicVideoId:o,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}=s,c=(0,r.Z)(d),g=(0,r.Z)(u);return!t&&o?e:(t?c[a]={pinId:a,currentTime:n,paused:!1}:g[a]={pinId:a,currentTime:n,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:t?o:a,promotedVideosAutoplaying:c,organicVideosAutoplaying:g}})}if("SET_IS_AUTOPLAY"===i.type&&e.isAutoplay!==i.payload)return{...e,isAutoplay:i.payload};if("PAUSE_CURRENT_VIDEO"===i.type){let{payload:l}=i,{pinId:a,isPromoted:t,currentTime:n}=l,{videosAutoplaying:s}=e,{promotedVideosAutoplaying:o,organicVideosAutoplaying:d}=s,u=(0,r.Z)(o),c=(0,r.Z)(d);return t?u[a]={...u[a],paused:!0,currentTime:n}:c[a]={...c[a],paused:!0,currentTime:n},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:u,organicVideosAutoplaying:c}}}if("SET_APP_FOCUS_STATE"===i.type&&e.appInFocus!==i.payload)return{...e,appInFocus:i.payload};if("SET_VIEWPORT_SIZE"===i.type&&e.viewportSize!==i.payload)return{...e,viewportSize:i.payload};if("SET_FOOTER_VISIBILITY_STATE"===i.type&&e.footerPlusButtonVisible!==i.payload)return{...e,footerPlusButtonVisible:i.payload};return e};var d=l(785893);let{Provider:u,useHook:c}=(0,t.Z)("AppUI");function g({children:e}){let[i,l]=(0,a.useReducer)(o,s),t=(0,a.useCallback)(e=>l({type:"PAUSE_CURRENT_VIDEO",payload:e}),[]),r=(0,a.useCallback)(e=>l({type:"SET_APP_FOCUS_STATE",payload:e}),[]),c=(0,a.useCallback)(e=>l({type:"SET_CURRENT_VIDEO",payload:e}),[]),g=(0,a.useCallback)(e=>l({type:"SET_FOOTER_VISIBILITY_STATE",payload:e}),[]),p=(0,a.useCallback)(e=>l({type:"SET_IS_AUTOPLAY",payload:e}),[]),m=(0,a.useCallback)(e=>l({type:"SET_VIEWPORT_SIZE",payload:e}),[]),h=(0,a.useCallback)(e=>l({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e}),[]),y=(0,a.useMemo)(()=>({pauseAutoplay:t,setCurrentVideo:c,setFooterPlusButtonVisible:g,setIsAutoplay:p,setViewportSize:m,toggleTypeaheadOverlay:h,setAppFocusState:r,appUI:i}),[t,c,g,p,m,h,r,i]);return(0,a.useEffect)(()=>{n.Z.onSessionResume(()=>{r(!0)}).onSessionPause(()=>{r(!1)})},[r]),(0,d.jsx)(u,{value:y,children:e})}},31327:(e,i,l)=>{l.d(i,{Z:()=>t});var a=l(467139);function t(e){return a.zI.includes(e)}},968508:(e,i,l)=>{l.d(i,{Z:()=>a});let a={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},253482:(e,i,l)=>{l.d(i,{Z:()=>k});var a,t=l(667294);l(422578);var n=l(883119),r=l(663056),s=l(207012),o=l(213377),d=l(140017),u=l(223785),c=l(340523),g=l(5859),p=l(678525),m=l(939809),h=l(785893);function y(e,i,l){var a;return(i="symbol"==typeof(a=function(e,i){if("object"!=typeof e||null===e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var a=l.call(e,i||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(e)}(i,"string"))?a:String(a))in e?Object.defineProperty(e,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[i]=l,e}let x=void 0!==a?a:a=l(51287),_=e=>{let i=e.reduce((e,i)=>{let{imageSizeMap:l}=i,{height:a,width:t}=l?.["736x"]||l?.["236x"]||{},n=`${t??1}x${a??1}`,r=e[n]?.times||0;return{...e,[n]:{imageHeight:a,imageWidth:t,times:r+1}}},{}),l=Object.keys(i).reduce((e,l)=>i[l].times>e.times?i[l]:e,{times:-1,imageHeight:-1,imageWidth:-1});return Object.keys(i).length>1?{imageHeight:l.imageHeight,imageWidth:l.imageWidth}:null},S=(e,i,l,a,t,r,s,o,d,u,c,g,m,y,x,_,S)=>{let v;let{imageSizeMap:f,details:k=""}=l,T=236,b=236,L="";r?(T=474,b=f&&Math.min(T/.8,T/((f["564x"]?.width??1)/(f["564x"]?.height??1))),L=f&&f["564x"]?.url):f&&f["736x"]?(b=f&&f["736x"]&&f["736x"].height,T=f&&f["736x"]&&f["736x"].width,L=f&&f["736x"]&&f["736x"].url):f&&f["236x"]&&(b=f&&f["236x"]&&f["236x"].height,T=f&&f["236x"]&&f["236x"].width,L=f&&f["236x"]&&f["236x"].url),y&&x&&(b=Math.min(y*x,b??1)),v=s?`${f?.["236x"]?.url??""} 1x`:r?`${f?.["564x"]?.url??""} 1x`:[f?.["474x"]&&`${f["474x"].url??""} 2x`,f?.["736x"]&&`${f["736x"].url??""} 3x`,f?.orig&&`${f.orig.url??""} 4x`].filter(Boolean).join(", ");let P=(0,p.GH)(k,i,t),w=m?void 0:b,F=m?void 0:T,{boxHeight:I,boxWidth:V}=_?{boxHeight:_?.imageHeight,boxWidth:_?.imageWidth}:{boxHeight:w,boxWidth:F};return(0,h.jsx)(n.xu,{"data-test-id":"carousel-slot-container",height:I??void 0,width:V??void 0,children:(0,h.jsx)(n.xu,{"data-test-id":`carousel-img-${t}`,height:m?g:void 0,width:m||void 0,children:(0,h.jsx)(n.Ee,{_fixCompletedOnLoad:e,alt:P,crossOrigin:S?"anonymous":void 0,fit:m?"cover":"none",naturalHeight:b??1,naturalWidth:T??1,onError:o,onLoad:d,src:L??"",srcSet:v})})},`carousel-slot-${a}-${t}`)},v=({pinId:e,slot:i,slotIndex:l,onError:a,onLoad:t,widthToUse:r,gap:s},o)=>{let{url:d,width:u,height:c}=["564x","736x","474x","236x"].map(e=>i.imageSizeMap?.[e]).find(e=>e?.url)||{},{details:g=""}=i,m=(0,p.GH)(g,o,l);return(0,h.jsx)(n.xu,{"data-test-id":"carousel-slot-container",height:"100%",marginEnd:s,width:r,children:(0,h.jsx)(n.zd,{height:"100%",wash:!0,children:(0,h.jsx)(n.Ee,{alt:m,fit:"contain",naturalHeight:c??1,naturalWidth:u??1,onError:a,onLoad:t,src:d??""})})},`carousel-slot-${e}-${l}`)};class f extends t.Component{constructor(...e){super(...e),y(this,"state",{showBadge:!0,startImpressionTimer:!1}),y(this,"renderBadge",()=>{let{carouselData:e,isCloseup:i,showCarouselBadge:l}=this.props;if(!e)return null;let{showBadge:a}=this.state,{carouselSlots:t,index:r}=e;return!i&&l?(0,h.jsx)(n.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:a?.8:0,transition:"opacity .3s"}},"data-test-id":"carousel-badge",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new n.Ry(1),children:(0,h.jsx)(n.xv,{color:"inverse",children:`${(r??0)+1}/${(t??[]).length}`})}):null}),y(this,"onLoadImage",()=>{this.setState({startImpressionTimer:!0}),this.props.onLoad?.()}),y(this,"onImageLoadError",()=>{this.setState({startImpressionTimer:!1}),this.props.onError?.()})}componentDidMount(){this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)}componentDidUpdate(e){let{showBadge:i}=this.state,{carouselData:l}=e,{carouselData:a}=this.props;if(!l||!a)return;let{index:t}=l,{index:n}=a;i&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout(()=>this.setState({showBadge:!1}),3e3)),t!==n&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){let e;let{isCloseup:i,carouselIndex:l,closeupHeight:a,closeupWidth:t=0,widthRatio:r=1,cropHeight:s,cropWidth:d,carouselData:c,disableTransition:g,highResOnly:y,lowResOnly:x,pinId:f,imageSignature:k,isEditMode:T,isDenseView:b,isThirdPartyAd:L,_fixCompletedOnLoad:P}=this.props;if(!c)return null;if(r>1||r<0)throw Error("widthRatio should be between 0 and 1 inclusive");let{carouselSlots:w}=c,F=c.index??0,I=void 0!==l?l:F??0,{imageSizeMap:V}=w[I]||{},E=Math.floor((e=i?t:!i&&d||(y?474:b?o.Lo:o.yF))*r),K=V?.["236x"]||{},A=s||K.height||0,C=d||K.width||236,j=a||A/C*E,D=_(w);return(0,h.jsxs)(n.xu,{alignItems:"center","data-test-id":"carousel-pin","data-test-image-signature":k,display:"flex",height:j,minHeight:u.Ml,overflow:"hidden",children:[!T&&this.renderBadge(),(0,h.jsx)(m.lu,{carouselData:{...c,type:"canonical"},impressionType:"Pin",isPaused:!this.state.startImpressionTimer,loggingId:f,slotIndex:F??0,viewParameter:72,viewType:1,children:({impressionTrackerRef:e})=>(0,h.jsx)(n.xu,{ref:e,"data-test-id":`carousel-impression-ref-${f}-${F}`,height:j,overflow:"hidden",position:"absolute",width:E})},`carousel-impression-key-${I}`),(0,h.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{transition:g?"":"left .3s",left:(0,p.vF)(w.length,E,e,I)}},direction:"row",display:"flex",height:"100%",left:!0,position:"relative",width:E*w.length,children:w.map((l,n)=>{if(i){let i=n===w.length-1;return v({pinId:f,slot:l,slotIndex:n,onError:this.onImageLoadError,onLoad:this.onLoadImage,widthToUse:E,gap:E<e&&!i?1:0},this.props.i18n)}return S(P,this.props.i18n,l,f,n,y,x,this.onImageLoadError,this.onLoadImage,t,a,s,d,j,E,D,L)})})]})}}function k({pinKey:e,...i}){let l=(0,d.ZP)(),{checkExperiment:a}=(0,c.F)(),{isAuthenticated:t}=(0,g.B)(),n=(0,s.Z)(x,e),o=(0,r.Z)(n),u=o&&{...o,carouselSlots:function(e){let i=["236x","474x","564x","736x"].map(i=>{let l=Math.min(...e.map(e=>e.imageSizeMap?.[i]?.height||1/0)),a=Math.min(...e.map(e=>e.imageSizeMap?.[i]?.width||1/0));return{imageKey:i,height:l,width:a}});return e.map(e=>i.reduce((e,{imageKey:i,height:l,width:a})=>e.imageSizeMap?.[i]?{...e,imageSizeMap:{...e.imageSizeMap,[i]:{...e.imageSizeMap[i],height:l,width:a}}}:e,e))}(o.carouselSlots)};return(0,h.jsx)(f,{...i,carouselData:u,checkExperiment:a,i18n:l,imageSignature:n.imageSignature,isAuthenticated:t,pinId:n.entityId})}y(f,"defaultProps",{showCarouselBadge:!0})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/68956.es_419-d27c29340a6164f8.mjs.map